
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module widget</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>widget</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/janetPCF/RC-testing/universal-subtitles/widget.py">/Users/janetPCF/RC-testing/universal-subtitles/widget.py</a></font></td></tr></table>
    <p><tt>widget.py<br>
Description:&nbsp;handles&nbsp;actions&nbsp;that&nbsp;are&nbsp;performed&nbsp;within&nbsp;the&nbsp;widget.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="codecs.html">codecs</a><br>
<a href="mslib.html">mslib</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
<a href="selvars.html">selvars</a><br>
</td><td width="25%" valign=top><a href="testvars.html">testvars</a><br>
<a href="time.html">time</a><br>
</td><td width="25%" valign=top><a href="unittest.html">unittest</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-Login"><strong>Login</strong></a>(self, sel, auth_type)</dt><dd><tt>Description:&nbsp;Initiates&nbsp;login&nbsp;sequence&nbsp;using&nbsp;the&nbsp;Subtitle&nbsp;Me&nbsp;menu&nbsp;that's&nbsp;attached&nbsp;to<br>
an&nbsp;embedded&nbsp;video,&nbsp;either&nbsp;onsite&nbsp;or&nbsp;offsite.<br>
&nbsp;<br>
auth_type&nbsp;can&nbsp;be&nbsp;'log'&nbsp;(for&nbsp;site),&nbsp;'twitter','openid','google'<br>
Requires&nbsp;valid&nbsp;accounts&nbsp;for&nbsp;chosen&nbsp;login&nbsp;type<br>
&nbsp;<br>
Pre-condition:&nbsp;Subtitle&nbsp;me&nbsp;widget&nbsp;menu&nbsp;should&nbsp;be&nbsp;present&nbsp;on&nbsp;page.<br>
&nbsp;<br>
Post-condition:&nbsp;either&nbsp;site&nbsp;or&nbsp;external&nbsp;login&nbsp;authorization&nbsp;pages&nbsp;are&nbsp;opened.<br>
For&nbsp;offsite&nbsp;login&nbsp;options&nbsp;see&nbsp;&lt;a&nbsp;href="offsite.html"&gt;offsite&lt;/a&gt;</tt></dd></dl>
 <dl><dt><a name="-back_step"><strong>back_step</strong></a>(self, sel)</dt><dd><tt>Description:&nbsp;Clicks&nbsp;the&nbsp;'Back&nbsp;to'&nbsp;link&nbsp;to&nbsp;go&nbsp;back&nbsp;1&nbsp;step.</tt></dd></dl>
 <dl><dt><a name="-click_time_shift_arrows"><strong>click_time_shift_arrows</strong></a>(self, sel, subtextfile)</dt><dd><tt>Description:&nbsp;clicks&nbsp;the&nbsp;left&nbsp;and&nbsp;right&nbsp;arrows&nbsp;on&nbsp;subtitle&nbsp;text&nbsp;box.<br>
Verifies&nbsp;that&nbsp;the&nbsp;time&nbsp;has&nbsp;been&nbsp;changed&nbsp;by&nbsp;.05&nbsp;seconds.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;subtextfile&nbsp;-&nbsp;text&nbsp;used&nbsp;in&nbsp;transcribe&nbsp;step.</tt></dd></dl>
 <dl><dt><a name="-close_howto_video"><strong>close_howto_video</strong></a>(self, sel, skip<font color="#909090">=True</font>)</dt><dd><tt>Description:&nbsp;closes&nbsp;the&nbsp;how-to&nbsp;interstitial&nbsp;help&nbsp;video<br>
Default&nbsp;is&nbsp;set&nbsp;to&nbsp;"True",&nbsp;to&nbsp;skip&nbsp;the&nbsp;video&nbsp;on&nbsp;proceeding&nbsp;steps.<br>
&nbsp;<br>
Pre-condition:&nbsp;widget&nbsp;has&nbsp;been&nbsp;launched.<br>
&nbsp;<br>
Post-condition:&nbsp;help&nbsp;video&nbsp;is&nbsp;closed&nbsp;and&nbsp;returned&nbsp;to&nbsp;previous&nbsp;widget&nbsp;page.</tt></dd></dl>
 <dl><dt><a name="-close_widget"><strong>close_widget</strong></a>(self, sel, submit<font color="#909090">='Discard'</font>)</dt><dd><tt>Description:&nbsp;uses&nbsp;the&nbsp;red&nbsp;close&nbsp;x&nbsp;to&nbsp;close&nbsp;out&nbsp;the&nbsp;widget.<br>
&nbsp;<br>
Options:&nbsp;"Submit"&nbsp;or&nbsp;"Discard"&nbsp;{default}&nbsp;subtitles.<br>
&nbsp;<br>
Pre-Condition:&nbsp;Widget&nbsp;is&nbsp;opened&nbsp;on&nbsp;page.<br>
&nbsp;<br>
Post&nbsp;Conditions:&nbsp;Returned&nbsp;to&nbsp;originating&nbsp;site.</tt></dd></dl>
 <dl><dt><a name="-drag_it"><strong>drag_it</strong></a>(self, sel, side, move_pixels)</dt><dd><tt>Description:&nbsp;actually&nbsp;grabs&nbsp;the&nbsp;timeline&nbsp;bubbles&nbsp;and&nbsp;moves&nbsp;them<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sub_text&nbsp;-&nbsp;text&nbsp;used&nbsp;to&nbsp;locate&nbsp;correct&nbsp;bubble<br>
&nbsp;&nbsp;&nbsp;&nbsp;side&nbsp;-&nbsp;{'left'&nbsp;|&nbsp;'right'}<br>
&nbsp;&nbsp;&nbsp;&nbsp;move_pixels&nbsp;-&nbsp;number&nbsp;of&nbsp;pixels&nbsp;to&nbsp;move&nbsp;bubble&nbsp;{&nbsp;+&nbsp;|&nbsp;-&nbsp;}</tt></dd></dl>
 <dl><dt><a name="-drag_time_bubbles"><strong>drag_time_bubbles</strong></a>(self, sel, subtextfile)</dt><dd><tt>Description:&nbsp;Grab<br>
the&nbsp;left&nbsp;and&nbsp;right&nbsp;sides&nbsp;of&nbsp;the&nbsp;timeline&nbsp;bubbles&nbsp;and&nbsp;edit&nbsp;the&nbsp;time.<br>
Verifies&nbsp;the&nbsp;time&nbsp;stamp&nbsp;has&nbsp;been&nbsp;modified.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;new_text&nbsp;-&nbsp;text&nbsp;string<br>
&nbsp;<br>
Pre-condition&nbsp;-&nbsp;use&nbsp;must&nbsp;be&nbsp;on&nbsp;Step&nbsp;3&nbsp;or&nbsp;Review&nbsp;with&nbsp;known&nbsp;text&nbsp;data.</tt></dd></dl>
 <dl><dt><a name="-edit_text"><strong>edit_text</strong></a>(self, sel, subtextfile, new_text<font color="#909090">=''</font>)</dt><dd><tt>Description:&nbsp;Input&nbsp;the&nbsp;same&nbsp;text&nbsp;used&nbsp;in&nbsp;transcribe_video&nbsp;and&nbsp;for&nbsp;each&nbsp;line,<br>
edit&nbsp;the&nbsp;text&nbsp;with&nbsp;new_text.&nbsp;&nbsp;Verifies&nbsp;text&nbsp;has&nbsp;been&nbsp;updated.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;new_text&nbsp;-&nbsp;text&nbsp;string<br>
&nbsp;<br>
Pre-condition&nbsp;-&nbsp;can&nbsp;use&nbsp;this&nbsp;on&nbsp;Step&nbsp;2,&nbsp;Step&nbsp;3.</tt></dd></dl>
 <dl><dt><a name="-edit_translation"><strong>edit_translation</strong></a>(self, sel, subtextfile, new_text<font color="#909090">=''</font>)</dt><dd><tt>Description:&nbsp;Update&nbsp;the&nbsp;translation&nbsp;text&nbsp;with&nbsp;either&nbsp;the&nbsp;orig&nbsp;text&nbsp;or&nbsp;text&nbsp;provided&nbsp;in&nbsp;a&nbsp;file.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;new_text&nbsp;-&nbsp;text&nbsp;string<br>
&nbsp;<br>
Pre-condition&nbsp;-&nbsp;Editing&nbsp;Translation&nbsp;Widget&nbsp;opened</tt></dd></dl>
 <dl><dt><a name="-goto_step"><strong>goto_step</strong></a>(self, sel, step<font color="#909090">='3'</font>)</dt></dl>
 <dl><dt><a name="-hold_down_delay_sub"><strong>hold_down_delay_sub</strong></a>(self, sel, sub_file, delay_time<font color="#909090">=2</font>, hold_time<font color="#909090">=0.75</font>, sync_time<font color="#909090">=1</font>)</dt><dd><tt>Description:&nbsp;tests&nbsp;the&nbsp;time&nbsp;shift&nbsp;of&nbsp;subs&nbsp;when&nbsp;holding&nbsp;then&nbsp;releasing&nbsp;the&nbsp;down&nbsp;key.<br>
Verifies&nbsp;that&nbsp;the&nbsp;time&nbsp;has&nbsp;been&nbsp;shifted.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;delay_time&nbsp;-&nbsp;amount&nbsp;of&nbsp;time&nbsp;to&nbsp;wait&nbsp;before&nbsp;jumping&nbsp;back&nbsp;with&nbsp;ctrl&nbsp;key&nbsp;(default=4)<br>
&nbsp;&nbsp;&nbsp;&nbsp;hold_time&nbsp;-&nbsp;amount&nbsp;of&nbsp;time&nbsp;to&nbsp;hold&nbsp;down&nbsp;the&nbsp;key&nbsp;(default=2)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sync_time&nbsp;-&nbsp;amount&nbsp;of&nbsp;time&nbsp;wait&nbsp;before&nbsp;starting&nbsp;next&nbsp;subtitle&nbsp;(default=2)<br>
&nbsp;<br>
Pre-conditions:&nbsp;must&nbsp;coordinate&nbsp;this&nbsp;with&nbsp;the&nbsp;times&nbsp;used&nbsp;in&nbsp;sync_video&nbsp;or&nbsp;the&nbsp;time&nbsp;shift<br>
comparision&nbsp;may&nbsp;fail.<br>
&nbsp;<br>
Post-condition&nbsp;-&nbsp;still&nbsp;on&nbsp;same&nbsp;step&nbsp;in&nbsp;widget,&nbsp;with&nbsp;new&nbsp;times.</tt></dd></dl>
 <dl><dt><a name="-restart_step"><strong>restart_step</strong></a>(self, sel)</dt><dd><tt>Description:&nbsp;Clicks&nbsp;the&nbsp;'Restart&nbsp;this&nbsp;Step'&nbsp;link,&nbsp;and&nbsp;handle&nbsp;the&nbsp;confirmation&nbsp;dialog.</tt></dd></dl>
 <dl><dt><a name="-resync_video"><strong>resync_video</strong></a>(self, sel, subtextfile, start_delay<font color="#909090">=1</font>, sub_int<font color="#909090">=1</font>, step<font color="#909090">='Stop'</font>)</dt><dd><tt>Description:&nbsp;tests&nbsp;the&nbsp;time&nbsp;shift&nbsp;of&nbsp;subs&nbsp;when&nbsp;using&nbsp;down&nbsp;key&nbsp;to&nbsp;resyncronize.<br>
Verifies&nbsp;time&nbsp;stamp&nbsp;has&nbsp;changed.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_delay&nbsp;-&nbsp;amount&nbsp;of&nbsp;time&nbsp;to&nbsp;wait&nbsp;before&nbsp;jumping&nbsp;back&nbsp;with&nbsp;ctrl&nbsp;key&nbsp;(default=4)<br>
&nbsp;&nbsp;&nbsp;&nbsp;sub_int&nbsp;-&nbsp;amount&nbsp;of&nbsp;before&nbsp;next&nbsp;sub&nbsp;sync<br>
&nbsp;&nbsp;&nbsp;&nbsp;step&nbsp;-&nbsp;{'Stop'&nbsp;(default)&nbsp;|&nbsp;'Continue'}<br>
&nbsp;<br>
Pre-conditions:&nbsp;must&nbsp;coordinate&nbsp;this&nbsp;with&nbsp;the&nbsp;times&nbsp;used&nbsp;in&nbsp;sync_video&nbsp;or&nbsp;the&nbsp;time&nbsp;shift<br>
comparision&nbsp;may&nbsp;fail.</tt></dd></dl>
 <dl><dt><a name="-select_video_language"><strong>select_video_language</strong></a>(self, sel, vid_lang<font color="#909090">='English'</font>, sub_lang<font color="#909090">='English'</font>)</dt></dl>
 <dl><dt><a name="-set_subs_complete"><strong>set_subs_complete</strong></a>(self, sel, done<font color="#909090">=True</font>)</dt></dl>
 <dl><dt><a name="-site_login_auth"><strong>site_login_auth</strong></a>(self, sel)</dt><dd><tt>Description:&nbsp;specifically&nbsp;logs&nbsp;in&nbsp;as&nbsp;the&nbsp;site&nbsp;user&nbsp;defined&nbsp;in&nbsp;&lt;a&nbsp;href="testvars.html"&gt;testvars&lt;/a&gt;<br>
&nbsp;<br>
Pre-condition:&nbsp;Login&nbsp;was&nbsp;clicked&nbsp;from&nbsp;widget<br>
&nbsp;<br>
Post-condition:&nbsp;user&nbsp;logged&nbsp;in&nbsp;and&nbsp;returned&nbsp;to&nbsp;widget&nbsp;page.</tt></dd></dl>
 <dl><dt><a name="-site_login_from_widget_link"><strong>site_login_from_widget_link</strong></a>(self, sel)</dt><dd><tt>Description:&nbsp;performs&nbsp;a&nbsp;site&nbsp;login&nbsp;from&nbsp;the&nbsp;Login&nbsp;link&nbsp;on&nbsp;the&nbsp;widget&nbsp;steps.<br>
&nbsp;<br>
Pre-condition:&nbsp;widget&nbsp;is&nbsp;opened&nbsp;and&nbsp;user&nbsp;is&nbsp;not&nbsp;logged&nbsp;in.<br>
&nbsp;<br>
Post-condition:&nbsp;user&nbsp;is&nbsp;returned&nbsp;to&nbsp;starting&nbsp;widget&nbsp;page.</tt></dd></dl>
 <dl><dt><a name="-steps_display"><strong>steps_display</strong></a>(self, sel, step_num)</dt><dd><tt>Description:&nbsp;verifies&nbsp;text&nbsp;contents&nbsp;of&nbsp;Steps.</tt></dd></dl>
 <dl><dt><a name="-submit_sub_edits"><strong>submit_sub_edits</strong></a>(self, sel, offsite<font color="#909090">=False</font>)</dt></dl>
 <dl><dt><a name="-sync_video"><strong>sync_video</strong></a>(self, sel, sub_file, start_delay<font color="#909090">=3</font>, sub_int<font color="#909090">=2</font>, step<font color="#909090">='Continue'</font>)</dt><dd><tt>Description:&nbsp;Use&nbsp;the&nbsp;defined&nbsp;sync&nbsp;button&nbsp;to&nbsp;sync&nbsp;the&nbsp;subtitles.&nbsp;&nbsp;Waits&nbsp;for<br>
text&nbsp;present&nbsp;on&nbsp;the&nbsp;video&nbsp;and&nbsp;prints&nbsp;the&nbsp;subtime.<br>
&nbsp;<br>
Options:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sub_file&nbsp;-&nbsp;path&nbsp;to&nbsp;file&nbsp;or&nbsp;text&nbsp;lines&nbsp;to&nbsp;enter<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_delay&nbsp;-&nbsp;time&nbsp;to&nbsp;wait&nbsp;before&nbsp;1st&nbsp;sync&nbsp;(default&nbsp;=&nbsp;4&nbsp;secs)<br>
&nbsp;&nbsp;&nbsp;&nbsp;sub_int&nbsp;-&nbsp;time&nbsp;to&nbsp;wait&nbsp;before&nbsp;next&nbsp;sub&nbsp;(default&nbsp;=&nbsp;2&nbsp;secs<br>
&nbsp;&nbsp;&nbsp;&nbsp;step&nbsp;-&nbsp;{'Continue'&nbsp;(default)&nbsp;|&nbsp;'Stop}&nbsp;move&nbsp;on&nbsp;to&nbsp;next&nbsp;step&nbsp;when&nbsp;done.<br>
&nbsp;<br>
Pre-condition&nbsp;-&nbsp;can&nbsp;use&nbsp;this&nbsp;to&nbsp;sync&nbsp;on&nbsp;Step&nbsp;2,&nbsp;Step&nbsp;3&nbsp;or&nbsp;Edit.</tt></dd></dl>
 <dl><dt><a name="-transcribe_video"><strong>transcribe_video</strong></a>(self, sel, sub_file, mode<font color="#909090">='Expert'</font>, step<font color="#909090">='Continue'</font>, buffer<font color="#909090">='yes'</font>)</dt><dd><tt>Description:&nbsp;On&nbsp;widget&nbsp;Step&nbsp;1,&nbsp;reads&nbsp;in&nbsp;lines&nbsp;of&nbsp;subtitle&nbsp;text&nbsp;and&nbsp;types&nbsp;it.<br>
&nbsp;<br>
Options:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sub_file&nbsp;-&nbsp;the&nbsp;full&nbsp;path&nbsp;to&nbsp;the&nbsp;text&nbsp;to&nbsp;enter<br>
&nbsp;&nbsp;&nbsp;&nbsp;mode&nbsp;-&nbsp;sets&nbsp;typing&nbsp;mode&nbsp;{'Beginner'&nbsp;|&nbsp;'Recommended'&nbsp;|&nbsp;'Expert&nbsp;(default)'}<br>
&nbsp;&nbsp;&nbsp;&nbsp;step&nbsp;-&nbsp;{'Stop'&nbsp;|&nbsp;'Continue'&nbsp;(default)}&nbsp;Continue&nbsp;on&nbsp;to&nbsp;next&nbsp;step.<br>
&nbsp;&nbsp;&nbsp;&nbsp;buffer&nbsp;{'yes'&nbsp;|&nbsp;'no'&nbsp;(default)&nbsp;}&nbsp;will&nbsp;buffer&nbsp;the&nbsp;video&nbsp;to&nbsp;75%&nbsp;before<br>
&nbsp;&nbsp;&nbsp;&nbsp;proceeding.&nbsp;see&nbsp;wait_for_video_to_buffer<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;line_count&nbsp;-&nbsp;the&nbsp;number&nbsp;of&nbsp;text&nbsp;lines&nbsp;input&nbsp;for&nbsp;the&nbsp;translation</tt></dd></dl>
 <dl><dt><a name="-verify_login_message"><strong>verify_login_message</strong></a>(self, sel)</dt><dd><tt>Description:&nbsp;verifies&nbsp;the&nbsp;widget&nbsp;must&nbsp;login&nbsp;message&nbsp;is&nbsp;displayed&nbsp;when&nbsp;a&nbsp;user&nbsp;is&nbsp;not&nbsp;logged&nbsp;in.</tt></dd></dl>
 <dl><dt><a name="-verify_sub_text"><strong>verify_sub_text</strong></a>(self, sel, subtextfile)</dt><dd><tt>Description:&nbsp;Compares&nbsp;the&nbsp;current&nbsp;text&nbsp;in&nbsp;the&nbsp;text&nbsp;box&nbsp;with&nbsp;the&nbsp;text&nbsp;in&nbsp;the&nbsp;input&nbsp;subtextfile.<br>
&nbsp;<br>
Pre-condition:&nbsp;User&nbsp;in&nbsp;widget,&nbsp;steps&nbsp;1,2,3&nbsp;or&nbsp;Edit.</tt></dd></dl>
 <dl><dt><a name="-wait_for_offsite_login"><strong>wait_for_offsite_login</strong></a>(self, sel)</dt></dl>
</td></tr></table>
</body></html>